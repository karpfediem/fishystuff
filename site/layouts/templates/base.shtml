<!DOCTYPE html>
<html data-theme="fishy">
<head id="head">
  <meta charset="UTF-8">
  <title id="title"><super></title>

  <!-- Early load to prevent flashbang / layout shift due to scrollbar gutter -->
  <style>
    /* Helps browsers choose the correct default palette for form controls, etc. */
    :root { color-scheme: dark light; }

    /* Prevent layout shift when the vertical scrollbar toggles */
    html {
      /* Always allocate space for the scrollbar */
      overflow-y: scroll;

      /* Reserve the gutter so the content width is stable */
      scrollbar-gutter: stable;
    }

    /* If supported, reserve on both edges to keep centering perfectly stable */
    @supports (scrollbar-gutter: stable both-edges) {
      html { scrollbar-gutter: stable both-edges; }
    }
  </style>
  <script>
    (function () {
      var KEY = 'theme'; // 'system' | 'fishy' | 'dark' | 'light'
      var saved = localStorage.getItem(KEY) || 'system';

      function resolve(theme) {
        if (theme === 'system') {
          var prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
          return prefersDark ? 'fishy' : 'light'; // map systemâ†’fishy or light
        }
        return theme;
      }

      var active = resolve(saved);
      document.documentElement.setAttribute('data-theme', active);
    })();
  </script>

  <script src="$site.asset('js/theme.js').link()"></script>

  <!-- Tailwind + daisyUI (compiled) -->
  <link rel="stylesheet" href="$site.asset('css/site.css').link()">
  <!-- CSS -->
  <link rel="stylesheet" href="$site.asset('css/fonts.css').link()">
  <link rel="stylesheet" href="$site.asset('css/fira_code.css').link()">
  <link rel="stylesheet" href="$site.asset('css/style.css').link()">
  <link rel="stylesheet" href="$site.asset('css/highlight.css').link()">
  <super>
</head>
<body id="body" class="prose prose-lg lg:prose-xl max-w-none min-h-dvh bg-base-100 text-base-content">
<super>
</body>
</html>
